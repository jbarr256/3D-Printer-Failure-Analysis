#define stepPinA 2
#define dirPinA 5 
#define stepPinB 3
#define dirPinB 6
#define button1 7
#define ledPin 8 
#define button2 10

void setup() {
  Serial.begin(9600);
  pinMode(stepPinA,OUTPUT); 
  pinMode(dirPinA,OUTPUT);
  pinMode(stepPinB,OUTPUT); 
  pinMode(dirPinB,OUTPUT);
  pinMode(button1, INPUT_PULLUP);
}


void motor(){
  if(digitalRead(button1) == HIGH){
  digitalWrite(ledPin, HIGH);
  digitalWrite(dirPinA,LOW);
  digitalWrite(dirPinB, HIGH); 
  //for(int x = 0; x < 4800; x++) {
    digitalWrite(stepPinA,HIGH); 
    digitalWrite(stepPinB,HIGH); 
    delayMicroseconds(300); 
    digitalWrite(stepPinA,LOW); 
    digitalWrite(stepPinB,LOW); 
    delayMicroseconds(300); 
  }
  //delay(500);
  /*
  digitalWrite(dirPinA,HIGH); 
  digitalWrite(dirPinB, LOW);
  for(int x = 0; x < 4800; x++) {
    digitalWrite(stepPinA,HIGH); 
    digitalWrite(stepPinB,HIGH); 
    delayMicroseconds(300); 
    digitalWrite(stepPinA,LOW); 
    digitalWrite(stepPinB,LOW); 
    delayMicroseconds(300); 
  } 
    */


  if(digitalRead(button2) == HIGH){
  digitalWrite(ledPin, HIGH);
  digitalWrite(dirPinA,HIGH);
  digitalWrite(dirPinB, LOW); 
  //for(int x = 0; x < 4800; x++) {
    digitalWrite(stepPinA,HIGH); 
    digitalWrite(stepPinB,HIGH); 
    delayMicroseconds(300); 
    digitalWrite(stepPinA,LOW); 
    digitalWrite(stepPinB,LOW); 
    delayMicroseconds(300); 
  }

  else{
    digitalWrite(ledPin, LOW);
  }
}


void loop() {
Serial.print(digitalRead(button1));
motor();


return 0;
}
